<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAMANOURA Ä°letiÅŸim PortalÄ±</title>
    
    <!-- GÄ°ZLÄ° PWA AYARLARI -->
    <meta name="theme-color" content="#2563eb">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ¢</text></svg>">
    <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIk1BTUFOT1VSQSBJbGV0aXppbSBQb3J0YWzEsSIsCiAgInNob3J0X25hbWUiOiAiTUFNQU5PVVJBIiwKICAic3RhcnRfdXJsIjogIi8iLAogICJkaXNwbGF5IjogInN0YW5kYWxvbmUiLAogICJ0aGVtZV9jb2xvciI6ICIjMjU2M2ViIiwKICAiYmFja2dyb3VuZF9jb2xvciI6ICIjZjhmYWZjIgp9">
    
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --background: #f8fafc;
            --card: #ffffff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--background);
            color: #1f2937;
        }

        .container {
            max-width: 500px;
            margin: 0 auto;
            padding: 1rem;
        }

        .header {
            background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
            color: white;
            padding: 2rem 1rem 1.5rem;
            text-align: center;
            border-radius: 0 0 20px 20px;
            margin-bottom: 2rem;
            position: relative;
        }

        .company-name {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .card {
            background: var(--card);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            border: 1px solid #e5e7eb;
        }

        select, textarea, input {
            width: 100%;
            padding: 1rem;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 16px;
            margin-bottom: 1rem;
            transition: border-color 0.3s;
        }

        select:focus, textarea:focus, input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .submit-btn {
            width: 100%;
            background: var(--primary);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 8px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: background 0.3s;
            font-weight: 600;
        }

        .submit-btn:hover {
            background: var(--primary-dark);
        }

        /* DÄ°L SEÃ‡Ä°MÄ° - GÃœNCELLENDÄ° */
        .language-selector {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin: 1rem auto 0;
            max-width: 400px;
        }

        .language-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            padding: 8px 12px;
            cursor: pointer;
            border-radius: 8px;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: all 0.3s ease;
            min-width: 60px;
            justify-content: center;
            color: white;
            font-weight: 500;
            backdrop-filter: blur(10px);
        }

        .language-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .language-btn.active {
            background: white;
            color: var(--primary);
            border-color: white;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        /* GÄ°ZLÄ° ADMIN PANELÄ° */
        .admin-panel {
            display: none;
            background: #1f2937;
            color: white;
            padding: 2rem;
            margin-top: 2rem;
            border-radius: 12px;
        }

        .admin-login {
            text-align: center;
            padding: 2rem;
        }

        .password-input {
            width: 100%;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 8px;
            border: none;
            font-size: 16px;
            background: #374151;
            color: white;
        }

        .secret-trigger {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #666;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 50%;
            cursor: pointer;
            opacity: 0.1;
            transition: opacity 0.3s;
            z-index: 1000;
        }

        .secret-trigger:hover {
            opacity: 0.3;
        }

        .sikayet-item {
            background: #374151;
            padding: 1rem;
            margin: 0.5rem 0;
            border-radius: 8px;
            border-left: 4px solid #2563eb;
            position: relative;
        }

        .sikayet-item.okundu {
            border-left-color: #10b981;
        }

        .sikayet-item.degerlendirildi {
            border-left-color: #8b5cf6;
        }

        .delete-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #dc2626;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
        }

        .action-buttons {
            position: absolute;
            top: 10px;
            right: 70px;
            display: flex;
            gap: 5px;
        }

        .read-btn {
            background: #10b981;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
        }

        .evaluate-btn {
            background: #8b5cf6;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
        }

        .ip-warning {
            color: #fbbf24;
            font-size: 0.8rem;
            margin-top: 0.5rem;
        }

        .status-badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.8rem;
            margin-left: 10px;
        }

        .status-bekliyor {
            background: #f59e0b;
            color: white;
        }

        .status-okundu {
            background: #10b981;
            color: white;
        }

        .status-degerlendirildi {
            background: #8b5cf6;
            color: white;
        }

        .takip-sayfasi {
            display: none;
            text-align: center;
            padding: 2rem;
        }

        .numara-input {
            width: 100%;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 8px;
            border: 2px solid #e5e7eb;
            font-size: 16px;
            text-align: center;
        }

        .numara-goster {
            font-size: 2rem;
            font-weight: bold;
            color: #2563eb;
            margin: 1rem 0;
        }

        .emoji-durum {
            font-size: 3rem;
            margin: 1rem 0;
        }

        .nav-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        .nav-btn {
            flex: 1;
            padding: 1rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: background 0.3s;
        }

        .nav-geri {
            background: #6b7280;
            color: white;
        }

        .nav-geri:hover {
            background: #4b5563;
        }

        .nav-takip {
            background: #2563eb;
            color: white;
        }

        .nav-takip:hover {
            background: #1d4ed8;
        }
    </style>
</head>
<body>
    <!-- GÄ°ZLÄ° ADMIN GÄ°RÄ°Å TETÄ°KLEYÄ°CÄ°SÄ° -->
    <button class="secret-trigger" id="secretTrigger" title="4 defa tÄ±kla">ğŸ”’</button>

    <!-- ANA SAYFA -->
    <div id="mainPage">
        <div class="header">
            <div class="company-name">MAMANOURA</div>
            <h1 id="mainTitle">ğŸ¢ Communication Portal</h1>
            <p id="mainSubtitle">Your opinions and suggestions are valuable to us</p>
            
            <!-- DÄ°L SEÃ‡Ä°MÄ° - GÃœNCELLENDÄ° -->
            <div class="language-selector">
                <button class="language-btn active" data-lang="en">
                    <span>ğŸ‡ºğŸ‡¸</span> EN
                </button>
                <button class="language-btn" data-lang="tr">
                    <span>ğŸ‡¹ğŸ‡·</span> TR
                </button>
                <button class="language-btn" data-lang="bn">
                    <span>ğŸ‡§ğŸ‡©</span> BN
                </button>
                <button class="language-btn" data-lang="ur">
                    <span>ğŸ‡µğŸ‡°</span> UR
                </button>
                <button class="language-btn" data-lang="in">
                    <span>ğŸ‡®ğŸ‡³</span> IN
                </button>
            </div>
        </div>

        <div class="container">
            <div class="card">
                <h3 id="selectBranch">Select Branch</h3>
                <select id="subeSelect">
                    <option value="" id="branchPlaceholder">Select your branch</option>
                    <option value="sube1" id="branch1">Branch 1</option>
                    <option value="sube2" id="branch2">Branch 2</option>
                    <option value="sube3" id="branch3">Branch 3</option>
                    <option value="sube4" id="branch4">Branch 4</option>
                    <option value="sube5" id="branch5">Branch 5</option>
                    <option value="sube6" id="branch6">Branch 6</option>
                    <option value="sube7" id="branch7">Branch 7</option>
                    <option value="sube8" id="branch8">Branch 8</option>
                    <option value="sube9" id="branch9">Branch 9</option>
                    <option value="sube10" id="branch10">Branch 10</option>
                </select>
            </div>

            <div class="card">
                <h3 id="selectCategory">Select Topic</h3>
                <select id="kategoriSelect">
                    <option value="" id="topicPlaceholder">Select topic</option>
                    <option value="oneriler" id="topic1">Suggestions</option>
                    <option value="gorusler" id="topic2">Opinions</option>
                    <option value="dusunceler" id="topic3">Thoughts</option>
                    <option value="sikayetler" id="topic4">Complaints</option>
                </select>
            </div>

            <div class="card">
                <h3 id="yourMessage">Your Message</h3>
                <textarea id="mesaj" placeholder="Write your message here..." rows="5"></textarea>
            </div>

            <button class="submit-btn" onclick="gonderMesaj()" id="sendButton">ğŸ“¨ Send</button>

            <div class="nav-buttons">
                <button class="nav-btn nav-takip" onclick="takipSayfasiniAc()" id="trackButton">ğŸ“‹ Track My Message</button>
            </div>
        </div>
    </div>

    <!-- TAKÄ°P SAYFASI -->
    <div class="takip-sayfasi" id="takipSayfasi">
        <div class="header">
            <div class="company-name">MAMANOURA</div>
            <h1 id="trackTitle">ğŸ“‹ Message Tracking</h1>
            <p id="trackSubtitle">Check the status of your message</p>
            
            <!-- Dil seÃ§ici takip sayfasÄ±nda da olsun -->
            <div class="language-selector">
                <button class="language-btn active" data-lang="en">
                    <span>ğŸ‡ºğŸ‡¸</span> EN
                </button>
                <button class="language-btn" data-lang="tr">
                    <span>ğŸ‡¹ğŸ‡·</span> TR
                </button>
                <button class="language-btn" data-lang="bn">
                    <span>ğŸ‡§ğŸ‡©</span> BN
                </button>
                <button class="language-btn" data-lang="ur">
                    <span>ğŸ‡µğŸ‡°</span> UR
                </button>
                <button class="language-btn" data-lang="in">
                    <span>ğŸ‡®ğŸ‡³</span> IN
                </button>
            </div>
        </div>

        <div class="container">
            <div class="card">
                <h3 id="enterNumber">Enter Your Message Number</h3>
                <input type="text" class="numara-input" id="numaraInput" placeholder="Example: 0025" maxlength="4">
                <button class="submit-btn" onclick="numaraKontrol()" id="searchButton">ğŸ” Search</button>
            </div>

            <div id="sonucAlani" style="display: none;">
                <div class="numara-goster" id="numaraGoster"></div>
                <div class="emoji-durum" id="emojiDurum">â³</div>
                <div id="durumMesaji" style="font-size: 1.2rem; margin: 1rem 0;"></div>
            </div>

            <div class="nav-buttons">
                <button class="nav-btn nav-geri" onclick="anaSayfayaDon()" id="backButton">â¬…ï¸ Main Page</button>
            </div>
        </div>
    </div>

    <!-- GÄ°ZLÄ° ADMIN PANELÄ° - TÃœRKÃ‡E -->
    <div class="admin-panel" id="adminPanel">
        <div class="admin-login" id="adminLogin">
            <h3>ğŸ” YÃ¶netici GiriÅŸi</h3>
            <input type="password" class="password-input" id="adminPassword" placeholder="YÃ¶netici ÅŸifresi">
            <button class="submit-btn" onclick="adminGiris()">GiriÅŸ Yap</button>
        </div>

        <div id="adminContent" style="display: none;">
            <!-- MESAJLAR BÃ–LÃœMÃœ -->
            <div id="adminMesajlar">
                <h3>ğŸ“Š Gelen Mesajlar (Toplam: <span id="toplamMesaj">0</span>)</h3>
                <div id="sikayetListesi"></div>
                <div style="margin-top: 2rem;">
                    <h4>ğŸ“¡ IP Analizi</h4>
                    <div id="ipAnaliz"></div>
                </div>
            </div>

            <button class="submit-btn" onclick="adminCikis()" style="background: #dc2626; margin-top: 1rem;">Ã‡Ä±kÄ±ÅŸ Yap</button>
        </div>
    </div>

    <script>
        // DÄ°L SÄ°STEMÄ° - GÃœNCELLENDÄ°
        const translations = {
            en: {
                mainTitle: "ğŸ¢ Communication Portal",
                mainSubtitle: "Your opinions and suggestions are valuable to us",
                selectBranch: "Select Branch",
                selectCategory: "Select Topic",
                yourMessage: "Your Message",
                sendButton: "ğŸ“¨ Send",
                trackButton: "ğŸ“‹ Track My Message",
                trackTitle: "ğŸ“‹ Message Tracking",
                trackSubtitle: "Check the status of your message",
                enterNumber: "Enter Your Message Number",
                searchButton: "ğŸ” Search",
                backButton: "â¬…ï¸ Main Page",
                placeholder: "Write your message here...",
                example: "Example: 0025",
                successMessage: "âœ… Your message has been sent!\n\nğŸ“‹ Tracking Number: {numara}\n\nYou can track your message status with this number.",
                evaluated: "Your message has been evaluated!",
                read: "Your message has been read",
                waiting: "Your message has not been read yet",
                invalid: "Invalid number!",
                // Form options
                branchPlaceholder: "Select your branch",
                branch1: "Branch 1",
                branch2: "Branch 2",
                branch3: "Branch 3",
                branch4: "Branch 4",
                branch5: "Branch 5",
                branch6: "Branch 6",
                branch7: "Branch 7",
                branch8: "Branch 8",
                branch9: "Branch 9",
                branch10: "Branch 10",
                topicPlaceholder: "Select topic",
                topic1: "Suggestions",
                topic2: "Opinions",
                topic3: "Thoughts",
                topic4: "Complaints"
            },
            tr: {
                mainTitle: "ğŸ¢ Ä°letiÅŸim PortalÄ±",
                mainSubtitle: "GÃ¶rÃ¼ÅŸ ve Ã¶nerileriniz bizim iÃ§in deÄŸerli",
                selectBranch: "Åube SeÃ§in",
                selectCategory: "Konu SeÃ§in", 
                yourMessage: "MesajÄ±nÄ±z",
                sendButton: "ğŸ“¨ GÃ¶nder",
                trackButton: "ğŸ“‹ MesajÄ±mÄ± Takip Et",
                trackTitle: "ğŸ“‹ Mesaj Takip",
                trackSubtitle: "MesajÄ±nÄ±zÄ±n durumunu Ã¶ÄŸrenin",
                enterNumber: "Mesaj NumaranÄ±zÄ± Girin",
                searchButton: "ğŸ” Sorgula",
                backButton: "â¬…ï¸ Ana Sayfa",
                placeholder: "MesajÄ±nÄ±zÄ± buraya yazÄ±n...",
                example: "Ã–rnek: 0025",
                successMessage: "âœ… MesajÄ±nÄ±z iletilmiÅŸtir!\n\nğŸ“‹ Takip NumaranÄ±z: {numara}\n\nBu numara ile mesajÄ±nÄ±zÄ±n durumunu takip edebilirsiniz.",
                evaluated: "MesajÄ±nÄ±z deÄŸerlendirildi!",
                read: "MesajÄ±nÄ±z okundu",
                waiting: "MesajÄ±nÄ±z henÃ¼z okunmadÄ±",
                invalid: "GeÃ§ersiz numara!",
                // Form options
                branchPlaceholder: "Åubenizi seÃ§in",
                branch1: "Åube 1",
                branch2: "Åube 2",
                branch3: "Åube 3",
                branch4: "Åube 4",
                branch5: "Åube 5",
                branch6: "Åube 6",
                branch7: "Åube 7",
                branch8: "Åube 8",
                branch9: "Åube 9",
                branch10: "Åube 10",
                topicPlaceholder: "Konu seÃ§in",
                topic1: "Ã–neriler",
                topic2: "GÃ¶rÃ¼ÅŸler",
                topic3: "DÃ¼ÅŸÃ¼nceler",
                topic4: "Åikayetler"
            },
            bn: {
                mainTitle: "ğŸ¢ à¦¯à§‹à¦—à¦¾à¦¯à§‹à¦— à¦ªà§‹à¦°à§à¦Ÿà¦¾à¦²",
                mainSubtitle: "à¦†à¦ªà¦¨à¦¾à¦° à¦®à¦¤à¦¾à¦®à¦¤ à¦à¦¬à¦‚ à¦ªà¦°à¦¾à¦®à¦°à§à¦¶ à¦†à¦®à¦¾à¦¦à§‡à¦° à¦œà¦¨à§à¦¯ à¦®à§‚à¦²à§à¦¯à¦¬à¦¾à¦¨",
                selectBranch: "à¦¶à¦¾à¦–à¦¾ à¦¨à¦¿à¦°à§à¦¬à¦¾à¦šà¦¨ à¦•à¦°à§à¦¨",
                selectCategory: "à¦¬à¦¿à¦·à¦¯à¦¼ à¦¨à¦¿à¦°à§à¦¬à¦¾à¦šà¦¨ à¦•à¦°à§à¦¨",
                yourMessage: "à¦†à¦ªà¦¨à¦¾à¦° à¦¬à¦¾à¦°à§à¦¤à¦¾",
                sendButton: "ğŸ“¨ à¦ªà¦¾à¦ à¦¾à¦¨",
                trackButton: "ğŸ“‹ à¦†à¦®à¦¾à¦° à¦¬à¦¾à¦°à§à¦¤à¦¾ à¦Ÿà§à¦°à§à¦¯à¦¾à¦• à¦•à¦°à§à¦¨",
                trackTitle: "ğŸ“‹ à¦¬à¦¾à¦°à§à¦¤à¦¾ à¦Ÿà§à¦°à§à¦¯à¦¾à¦•à¦¿à¦‚",
                trackSubtitle: "à¦†à¦ªà¦¨à¦¾à¦° à¦¬à¦¾à¦°à§à¦¤à¦¾à¦° à¦…à¦¬à¦¸à§à¦¥à¦¾ à¦ªà¦°à§€à¦•à§à¦·à¦¾ à¦•à¦°à§à¦¨",
                enterNumber: "à¦†à¦ªà¦¨à¦¾à¦° à¦¬à¦¾à¦°à§à¦¤à¦¾ à¦¨à¦®à§à¦¬à¦° à¦²à¦¿à¦–à§à¦¨",
                searchButton: "ğŸ” à¦…à¦¨à§à¦¸à¦¨à§à¦§à¦¾à¦¨ à¦•à¦°à§à¦¨",
                backButton: "â¬…ï¸ à¦®à§‚à¦² à¦ªà§ƒà¦·à§à¦ à¦¾",
                placeholder: "à¦†à¦ªà¦¨à¦¾à¦° à¦¬à¦¾à¦°à§à¦¤à¦¾ à¦à¦–à¦¾à¦¨à§‡ à¦²à¦¿à¦–à§à¦¨...",
                example: "à¦‰à¦¦à¦¾à¦¹à¦°à¦£: 0025",
                successMessage: "âœ… à¦†à¦ªà¦¨à¦¾à¦° à¦¬à¦¾à¦°à§à¦¤à¦¾ à¦ªà¦¾à¦ à¦¾à¦¨à§‹ à¦¹à¦¯à¦¼à§‡à¦›à§‡!\n\nğŸ“‹ à¦Ÿà§à¦°à§à¦¯à¦¾à¦•à¦¿à¦‚ à¦¨à¦®à§à¦¬à¦°: {numara}\n\nà¦†à¦ªà¦¨à¦¿ à¦à¦‡ à¦¨à¦®à§à¦¬à¦° à¦¦à¦¿à¦¯à¦¼à§‡ à¦†à¦ªà¦¨à¦¾à¦° à¦¬à¦¾à¦°à§à¦¤à¦¾à¦° à¦…à¦¬à¦¸à§à¦¥à¦¾ à¦Ÿà§à¦°à§à¦¯à¦¾à¦• à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à§‡à¦¨à¥¤",
                evaluated: "à¦†à¦ªà¦¨à¦¾à¦° à¦¬à¦¾à¦°à§à¦¤à¦¾ à¦®à§‚à¦²à§à¦¯à¦¾à¦¯à¦¼à¦¨ à¦•à¦°à¦¾ à¦¹à¦¯à¦¼à§‡à¦›à§‡!",
                read: "à¦†à¦ªà¦¨à¦¾à¦° à¦¬à¦¾à¦°à§à¦¤à¦¾ à¦ªà¦¡à¦¼à¦¾ à¦¹à¦¯à¦¼à§‡à¦›à§‡",
                waiting: "à¦†à¦ªà¦¨à¦¾à¦° à¦¬à¦¾à¦°à§à¦¤à¦¾ à¦à¦–à¦¨à§‹ à¦ªà¦¡à¦¼à¦¾ à¦¹à¦¯à¦¼à¦¨à¦¿",
                invalid: "à¦­à§à¦² à¦¨à¦®à§à¦¬à¦°!",
                // Form options
                branchPlaceholder: "à¦†à¦ªà¦¨à¦¾à¦° à¦¶à¦¾à¦–à¦¾ à¦¨à¦¿à¦°à§à¦¬à¦¾à¦šà¦¨ à¦•à¦°à§à¦¨",
                branch1: "à¦¶à¦¾à¦–à¦¾ à§§",
                branch2: "à¦¶à¦¾à¦–à¦¾ à§¨",
                branch3: "à¦¶à¦¾à¦–à¦¾ à§©",
                branch4: "à¦¶à¦¾à¦–à¦¾ à§ª",
                branch5: "à¦¶à¦¾à¦–à¦¾ à§«",
                branch6: "à¦¶à¦¾à¦–à¦¾ à§¬",
                branch7: "à¦¶à¦¾à¦–à¦¾ à§­",
                branch8: "à¦¶à¦¾à¦–à¦¾ à§®",
                branch9: "à¦¶à¦¾à¦–à¦¾ à§¯",
                branch10: "à¦¶à¦¾à¦–à¦¾ à§§à§¦",
                topicPlaceholder: "à¦¬à¦¿à¦·à¦¯à¦¼ à¦¨à¦¿à¦°à§à¦¬à¦¾à¦šà¦¨ à¦•à¦°à§à¦¨",
                topic1: "à¦ªà¦°à¦¾à¦®à¦°à§à¦¶",
                topic2: "à¦®à¦¤à¦¾à¦®à¦¤",
                topic3: "à¦šà¦¿à¦¨à§à¦¤à¦¾à¦­à¦¾à¦¬à¦¨à¦¾",
                topic4: "à¦…à¦­à¦¿à¦¯à§‹à¦—"
            },
            ur: {
                mainTitle: "ğŸ¢ Ú©Ù…ÛŒÙˆÙ†ÛŒÚ©ÛŒØ´Ù† Ù¾ÙˆØ±Ù¹Ù„", 
                mainSubtitle: "Ø¢Ù¾ Ú©Û’ Ø®ÛŒØ§Ù„Ø§Øª Ø§ÙˆØ± ØªØ¬Ø§ÙˆÛŒØ² ÛÙ…Ø§Ø±Û’ Ù„ÛŒÛ’ Ù‚ÛŒÙ…ØªÛŒ ÛÛŒÚº",
                selectBranch: "Ø¨Ø±Ø§Ù†Ú† Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº",
                selectCategory: "Ù…ÙˆØ¶ÙˆØ¹ Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº",
                yourMessage: "Ø¢Ù¾ Ú©Ø§ Ù¾ÛŒØºØ§Ù…",
                sendButton: "ğŸ“¨ Ø¨Ú¾ÛŒØ¬ÛŒÚº",
                trackButton: "ğŸ“‹ Ù…ÛŒØ±Û’ Ù¾ÛŒØºØ§Ù… Ú©Ùˆ Ù¹Ø±ÛŒÚ© Ú©Ø±ÛŒÚº",
                trackTitle: "ğŸ“‹ Ù…ÛŒØ³Ø¬ Ù¹Ø±ÛŒÚ©Ù†Ú¯",
                trackSubtitle: "Ø§Ù¾Ù†Û’ Ù¾ÛŒØºØ§Ù… Ú©ÛŒ Ø­ÛŒØ«ÛŒØª Ú†ÛŒÚ© Ú©Ø±ÛŒÚº", 
                enterNumber: "Ø§Ù¾Ù†Ø§ Ù…ÛŒØ³Ø¬ Ù†Ù…Ø¨Ø± Ø¯Ø±Ø¬ Ú©Ø±ÛŒÚº",
                searchButton: "ğŸ” ØªÙ„Ø§Ø´ Ú©Ø±ÛŒÚº",
                backButton: "â¬…ï¸ Ù…Ø±Ú©Ø²ÛŒ ØµÙØ­Û",
                placeholder: "Ø§Ù¾Ù†Ø§ Ù¾ÛŒØºØ§Ù… ÛŒÛØ§Úº Ù„Ú©Ú¾ÛŒÚº...",
                example: "Ù…Ø«Ø§Ù„: 0025",
                successMessage: "âœ… Ø¢Ù¾ Ú©Ø§ Ù¾ÛŒØºØ§Ù… Ø¨Ú¾ÛŒØ¬ Ø¯ÛŒØ§ Ú¯ÛŒØ§ ÛÛ’!\n\nğŸ“‹ Ù¹Ø±ÛŒÚ©Ù†Ú¯ Ù†Ù…Ø¨Ø±: {numara}\n\nØ¢Ù¾ Ø§Ø³ Ù†Ù…Ø¨Ø± Ø³Û’ Ø§Ù¾Ù†Û’ Ù¾ÛŒØºØ§Ù… Ú©ÛŒ Ø­ÛŒØ«ÛŒØª Ù¹Ø±ÛŒÚ© Ú©Ø± Ø³Ú©ØªÛ’ ÛÛŒÚºÛ”",
                evaluated: "Ø¢Ù¾ Ú©Û’ Ù¾ÛŒØºØ§Ù… Ú©Ø§ Ø¬Ø§Ø¦Ø²Û Ù„ÛŒØ§ Ú¯ÛŒØ§ ÛÛ’!",
                read: "Ø¢Ù¾ Ú©Ø§ Ù¾ÛŒØºØ§Ù… Ù¾Ú‘Ú¾Ø§ Ú¯ÛŒØ§ ÛÛ’",
                waiting: "Ø¢Ù¾ Ú©Ø§ Ù¾ÛŒØºØ§Ù… Ø§Ø¨Ú¾ÛŒ ØªÚ© Ù†ÛÛŒÚº Ù¾Ú‘Ú¾Ø§ Ú¯ÛŒØ§ ÛÛ’",
                invalid: "ØºÙ„Ø· Ù†Ù…Ø¨Ø±!",
                // Form options
                branchPlaceholder: "Ø§Ù¾Ù†ÛŒ Ø¨Ø±Ø§Ù†Ú† Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº",
                branch1: "Ø¨Ø±Ø§Ù†Ú† 1",
                branch2: "Ø¨Ø±Ø§Ù†Ú† 2",
                branch3: "Ø¨Ø±Ø§Ù†Ú† 3",
                branch4: "Ø¨Ø±Ø§Ù†Ú† 4",
                branch5: "Ø¨Ø±Ø§Ù†Ú† 5",
                branch6: "Ø¨Ø±Ø§Ù†Ú† 6",
                branch7: "Ø¨Ø±Ø§Ù†Ú† 7",
                branch8: "Ø¨Ø±Ø§Ù†Ú† 8",
                branch9: "Ø¨Ø±Ø§Ù†Ú† 9",
                branch10: "Ø¨Ø±Ø§Ù†Ú† 10",
                topicPlaceholder: "Ù…ÙˆØ¶ÙˆØ¹ Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº",
                topic1: "ØªØ¬Ø§ÙˆÛŒØ²",
                topic2: "Ø¢Ø±Ø§Ø¡",
                topic3: "Ø®ÛŒØ§Ù„Ø§Øª",
                topic4: "Ø´Ú©Ø§ÛŒØ§Øª"
            },
            in: {
                mainTitle: "ğŸ¢ à¤¸à¤‚à¤šà¤¾à¤° à¤ªà¥‹à¤°à¥à¤Ÿà¤²",
                mainSubtitle: "à¤†à¤ªà¤•à¥‡ à¤µà¤¿à¤šà¤¾à¤° à¤”à¤° à¤¸à¥à¤à¤¾à¤µ à¤¹à¤®à¤¾à¤°à¥‡ à¤²à¤¿à¤ à¤®à¥‚à¤²à¥à¤¯à¤µà¤¾à¤¨ à¤¹à¥ˆà¤‚",
                selectBranch: "à¤¶à¤¾à¤–à¤¾ à¤šà¥à¤¨à¥‡à¤‚",
                selectCategory: "à¤µà¤¿à¤·à¤¯ à¤šà¥à¤¨à¥‡à¤‚",
                yourMessage: "à¤†à¤ªà¤•à¤¾ à¤¸à¤‚à¤¦à¥‡à¤¶",
                sendButton: "ğŸ“¨ à¤­à¥‡à¤œà¥‡à¤‚", 
                trackButton: "ğŸ“‹ à¤®à¥‡à¤°à¤¾ à¤¸à¤‚à¤¦à¥‡à¤¶ à¤Ÿà¥à¤°à¥ˆà¤• à¤•à¤°à¥‡à¤‚",
                trackTitle: "ğŸ“‹ à¤¸à¤‚à¤¦à¥‡à¤¶ à¤Ÿà¥à¤°à¥ˆà¤•à¤¿à¤‚à¤—",
                trackSubtitle: "à¤…à¤ªà¤¨à¥‡ à¤¸à¤‚à¤¦à¥‡à¤¶ à¤•à¥€ à¤¸à¥à¤¥à¤¿à¤¤à¤¿ à¤œà¤¾à¤‚à¤šà¥‡à¤‚",
                enterNumber: "à¤…à¤ªà¤¨à¤¾ à¤¸à¤‚à¤¦à¥‡à¤¶ à¤¨à¤‚à¤¬à¤° à¤¦à¤°à¥à¤œ à¤•à¤°à¥‡à¤‚",
                searchButton: "ğŸ” à¤–à¥‹à¤œà¥‡à¤‚",
                backButton: "â¬…ï¸ à¤®à¥à¤–à¥à¤¯ à¤ªà¥ƒà¤·à¥à¤ ",
                placeholder: "à¤…à¤ªà¤¨à¤¾ à¤¸à¤‚à¤¦à¥‡à¤¶ à¤¯à¤¹à¤¾à¤ à¤²à¤¿à¤–à¥‡à¤‚...",
                example: "à¤‰à¤¦à¤¾à¤¹à¤°à¤£: 0025",
                successMessage: "âœ… à¤†à¤ªà¤•à¤¾ à¤¸à¤‚à¤¦à¥‡à¤¶ à¤­à¥‡à¤œ à¤¦à¤¿à¤¯à¤¾ à¤—à¤¯à¤¾ à¤¹à¥ˆ!\n\nğŸ“‹ à¤Ÿà¥à¤°à¥ˆà¤•à¤¿à¤‚à¤— à¤¨à¤‚à¤¬à¤°: {numara}\n\nà¤†à¤ª à¤‡à¤¸ à¤¨à¤‚à¤¬à¤° à¤¸à¥‡ à¤…à¤ªà¤¨à¥‡ à¤¸à¤‚à¤¦à¥‡à¤¶ à¤•à¥€ à¤¸à¥à¤¥à¤¿à¤¤à¤¿ à¤Ÿà¥à¤°à¥ˆà¤• à¤•à¤° à¤¸à¤•à¤¤à¥‡ à¤¹à¥ˆà¤‚à¥¤",
                evaluated: "à¤†à¤ªà¤•à¥‡ à¤¸à¤‚à¤¦à¥‡à¤¶ à¤•à¤¾ à¤®à¥‚à¤²à¥à¤¯à¤¾à¤‚à¤•à¤¨ à¤•à¤¿à¤¯à¤¾ à¤—à¤¯à¤¾ à¤¹à¥ˆ!",
                read: "à¤†à¤ªà¤•à¤¾ à¤¸à¤‚à¤¦à¥‡à¤¶ à¤ªà¤¢à¤¼à¤¾ à¤—à¤¯à¤¾ à¤¹à¥ˆ",
                waiting: "à¤†à¤ªà¤•à¤¾ à¤¸à¤‚à¤¦à¥‡à¤¶ à¤…à¤­à¥€ à¤¤à¤• à¤¨à¤¹à¥€à¤‚ à¤ªà¤¢à¤¼à¤¾ à¤—à¤¯à¤¾ à¤¹à¥ˆ", 
                invalid: "à¤…à¤®à¤¾à¤¨à¥à¤¯ à¤¨à¤‚à¤¬à¤°!",
                // Form options
                branchPlaceholder: "à¤…à¤ªà¤¨à¥€ à¤¶à¤¾à¤–à¤¾ à¤šà¥à¤¨à¥‡à¤‚",
                branch1: "à¤¶à¤¾à¤–à¤¾ 1",
                branch2: "à¤¶à¤¾à¤–à¤¾ 2",
                branch3: "à¤¶à¤¾à¤–à¤¾ 3",
                branch4: "à¤¶à¤¾à¤–à¤¾ 4",
                branch5: "à¤¶à¤¾à¤–à¤¾ 5",
                branch6: "à¤¶à¤¾à¤–à¤¾ 6",
                branch7: "à¤¶à¤¾à¤–à¤¾ 7",
                branch8: "à¤¶à¤¾à¤–à¤¾ 8",
                branch9: "à¤¶à¤¾à¤–à¤¾ 9",
                branch10: "à¤¶à¤¾à¤–à¤¾ 10",
                topicPlaceholder: "à¤µà¤¿à¤·à¤¯ à¤šà¥à¤¨à¥‡à¤‚",
                topic1: "à¤¸à¥à¤à¤¾à¤µ",
                topic2: "à¤µà¤¿à¤šà¤¾à¤°",
                topic3: "à¤µà¤¿à¤šà¤¾à¤°",
                topic4: "à¤¶à¤¿à¤•à¤¾à¤¯à¤¤à¥‡à¤‚"
            }
        };

        let currentLanguage = 'en';

        // DÄ°L DEÄÄ°ÅTÄ°RME - GÃœNCELLENDÄ°
        function changeLanguage(lang) {
            currentLanguage = lang;
            
            // ButonlarÄ± gÃ¼ncelle
            document.querySelectorAll('.language-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.lang === lang) {
                    btn.classList.add('active');
                }
            });
            
            // TÃ¼m metinleri gÃ¼ncelle
            updateAllTexts();
        }

        // TÃœM METÄ°NLERÄ° GÃœNCELLE
        function updateAllTexts() {
            const t = translations[currentLanguage];
            
            // Ana sayfa metinleri
            document.getElementById('mainTitle').textContent = t.mainTitle;
            document.getElementById('mainSubtitle').textContent = t.mainSubtitle;
            document.getElementById('selectBranch').textContent = t.selectBranch;
            document.getElementById('selectCategory').textContent = t.selectCategory;
            document.getElementById('yourMessage').textContent = t.yourMessage;
            document.getElementById('sendButton').textContent = t.sendButton;
            document.getElementById('trackButton').textContent = t.trackButton;
            
            // Takip sayfasÄ± metinleri
            document.getElementById('trackTitle').textContent = t.trackTitle;
            document.getElementById('trackSubtitle').textContent = t.trackSubtitle;
            document.getElementById('enterNumber').textContent = t.enterNumber;
            document.getElementById('searchButton').textContent = t.searchButton;
            document.getElementById('backButton').textContent = t.backButton;
            
            // Placeholder'larÄ± gÃ¼ncelle
            document.getElementById('mesaj').placeholder = t.placeholder;
            document.getElementById('numaraInput').placeholder = t.example;
            
            // Form seÃ§eneklerini gÃ¼ncelle
            document.getElementById('branchPlaceholder').textContent = t.branchPlaceholder;
            for (let i = 1; i <= 10; i++) {
                document.getElementById(`branch${i}`).textContent = t[`branch${i}`];
            }
            
            document.getElementById('topicPlaceholder').textContent = t.topicPlaceholder;
            for (let i = 1; i <= 4; i++) {
                document.getElementById(`topic${i}`).textContent = t[`topic${i}`];
            }
        }

        // DÄ°L BUTONLARINI AYARLA
        document.querySelectorAll('.language-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                changeLanguage(this.dataset.lang);
            });
        });

        // VERÄ° DEPOSU
        let tumMesajlar = JSON.parse(localStorage.getItem('sirketMesajlar')) || [];
        let ipSayac = JSON.parse(localStorage.getItem('ipSayac')) || {};
        
        // ÅÄ°FRE YÃ–NETÄ°MÄ° - GÃœNCELLENDÄ°
        let adminSifre = localStorage.getItem('adminSifre') || '112358';
        
        let clickCount = 0;
        let lastClickTime = 0;

        // TELEGRAM BÄ°LDÄ°RÄ°M FONKSÄ°YONU
        async function telegramBildirimGonder(mesaj) {
            const telegramData = {
                chat_id: "1441857735",
                text: mesaj,
                parse_mode: "HTML"
            };

            try {
                // Ã–nce Netlify Function'Ä± dene
                const response = await fetch('/.netlify/functions/telegram-bot', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(telegramData)
                });
                
                if (!response.ok) {
                    throw new Error('Netlify function failed');
                }
                console.log('âœ… Telegram bildirimi gÃ¶nderildi!');
            } catch (error) {
                console.log('âŒ Netlify function hatasÄ±, direkt API deneniyor:', error);
                // Fallback: Direkt Telegram API
                try {
                    const TELEGRAM_BOT_TOKEN = '7518606924:AAFsWuJ1uPFWjvFTbOshn1R0uRHnsinxIyI';
                    const directResponse = await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(telegramData)
                    });
                    
                    if (!directResponse.ok) {
                        console.log('âŒ Direkt API de baÅŸarÄ±sÄ±z');
                    } else {
                        console.log('âœ… Direkt API ile gÃ¶nderildi!');
                    }
                } catch (directError) {
                    console.log('âŒ TÃ¼m Telegram yÃ¶ntemleri baÅŸarÄ±sÄ±z:', directError);
                }
            }
        }

        // MESAJ GÃ–NDER (Dil desteÄŸi ile)
        async function gonderMesaj() {
            const sube = document.getElementById('subeSelect').value;
            const kategori = document.getElementById('kategoriSelect').value;
            const mesaj = document.getElementById('mesaj').value;

            if (!sube || !kategori || !mesaj) {
                const t = translations[currentLanguage];
                let errorMessage = '';
                if (currentLanguage === 'tr') errorMessage = 'LÃ¼tfen tÃ¼m alanlarÄ± doldurun!';
                else if (currentLanguage === 'en') errorMessage = 'Please fill all fields!';
                else if (currentLanguage === 'bn') errorMessage = 'à¦¦à¦¯à¦¼à¦¾ à¦•à¦°à§‡ à¦¸à¦®à¦¸à§à¦¤ à¦«à¦¿à¦²à§à¦¡ à¦ªà§‚à¦°à¦£ à¦•à¦°à§à¦¨!';
                else if (currentLanguage === 'ur') errorMessage = 'Ø¨Ø±Ø§Û Ú©Ø±Ù… ØªÙ…Ø§Ù… ÙÛŒÙ„ÚˆØ² Ø¨Ú¾Ø±ÛŒÚº!';
                else errorMessage = 'à¤•à¥ƒà¤ªà¤¯à¤¾ à¤¸à¤­à¥€ à¤«à¤¼à¥€à¤²à¥à¤¡ à¤­à¤°à¥‡à¤‚!';
                
                alert(errorMessage);
                return;
            }

            const gizliIP = await gizliIPAl();
            ipSayac[gizliIP] = (ipSayac[gizliIP] || 0) + 1;
            const mesajNo = String(tumMesajlar.length + 1).padStart(4, '0');

            const yeniMesaj = {
                id: Date.now(),
                mesajNo: mesajNo,
                sube: document.getElementById('subeSelect').options[document.getElementById('subeSelect').selectedIndex].text,
                kategori: kategori,
                mesaj: mesaj,
                ip: gizliIP,
                tarih: new Date().toLocaleString('tr-TR'),
                ipSayisi: ipSayac[gizliIP],
                durum: 'bekliyor',
                durumTarihi: null,
                dil: currentLanguage
            };

            tumMesajlar.push(yeniMesaj);
            localStorage.setItem('sirketMesajlar', JSON.stringify(tumMesajlar));
            localStorage.setItem('ipSayac', JSON.stringify(ipSayac));

            // TELEGRAM BÄ°LDÄ°RÄ°MÄ° GÃ–NDER
            const telegramMesaj = `
ğŸš¨ <b>YENÄ° MESAJ GELDÄ°!</b>

ğŸ¢ <b>Åube:</b> ${yeniMesaj.sube}
ğŸ“‹ <b>Kategori:</b> ${yeniMesaj.kategori}
ğŸ”¢ <b>Takip No:</b> ${mesajNo}
ğŸŒ <b>Dil:</b> ${yeniMesaj.dil.toUpperCase()}
ğŸ“ <b>Mesaj:</b>
${yeniMesaj.mesaj}

â° <b>Tarih:</b> ${yeniMesaj.tarih}
ğŸ“¡ <b>IP:</b> ${yeniMesaj.ip}
            `;

            await telegramBildirimGonder(telegramMesaj);

            // Dil'e gÃ¶re baÅŸarÄ± mesajÄ±
            const t = translations[currentLanguage];
            alert(t.successMessage.replace('{numara}', mesajNo));

            document.getElementById('subeSelect').value = '';
            document.getElementById('kategoriSelect').value = '';
            document.getElementById('mesaj').value = '';
        }

        // NUMARA KONTROL (Dil desteÄŸi ile)
        function numaraKontrol() {
            const numara = document.getElementById('numaraInput').value.trim();
            const mesaj = tumMesajlar.find(m => m.mesajNo === numara);
            
            document.getElementById('numaraGoster').textContent = numara;
            document.getElementById('sonucAlani').style.display = 'block';
            
            const t = translations[currentLanguage];
            
            if (mesaj) {
                if (mesaj.durum === 'degerlendirildi') {
                    document.getElementById('emojiDurum').textContent = 'âœ…';
                    document.getElementById('durumMesaji').innerHTML = `
                        <div style="color: #10b981;">
                            <strong>${t.evaluated}</strong><br>
                            <small>${currentLanguage === 'tr' ? 'DeÄŸerlendirme: ' : 
                                     currentLanguage === 'en' ? 'Evaluation: ' :
                                     currentLanguage === 'bn' ? 'à¦®à§‚à¦²à§à¦¯à¦¾à¦¯à¦¼à¦¨: ' :
                                     currentLanguage === 'ur' ? 'Ø¬Ø§Ø¦Ø²Û: ' : 'à¤®à¥‚à¤²à¥à¤¯à¤¾à¤‚à¤•à¤¨: '}${mesaj.durumTarihi}</small>
                        </div>
                    `;
                } else if (mesaj.durum === 'okundu') {
                    document.getElementById('emojiDurum').textContent = 'ğŸ‘ï¸';
                    document.getElementById('durumMesaji').innerHTML = `
                        <div style="color: #f59e0b;">
                            <strong>${t.read}</strong><br>
                            <small>${currentLanguage === 'tr' ? 'Okunma: ' : 
                                     currentLanguage === 'en' ? 'Read: ' :
                                     currentLanguage === 'bn' ? 'à¦ªà¦¡à¦¼à¦¾: ' :
                                     currentLanguage === 'ur' ? 'Ù¾Ú‘Ú¾Ø§ Ú¯ÛŒØ§: ' : 'à¤ªà¤¢à¤¼à¤¾ à¤—à¤¯à¤¾: '}${mesaj.durumTarihi}</small>
                        </div>
                    `;
                } else {
                    document.getElementById('emojiDurum').textContent = 'â³';
                    document.getElementById('durumMesaji').innerHTML = `
                        <div style="color: #6b7280;">
                            <strong>${t.waiting}</strong><br>
                            <small>${currentLanguage === 'tr' ? 'En kÄ±sa sÃ¼rede deÄŸerlendirilecektir' : 
                                     currentLanguage === 'en' ? 'It will be evaluated as soon as possible' :
                                     currentLanguage === 'bn' ? 'à¦¯à¦¤ à¦¤à¦¾à¦¡à¦¼à¦¾à¦¤à¦¾à¦¡à¦¼à¦¿ à¦¸à¦®à§à¦­à¦¬ à¦®à§‚à¦²à§à¦¯à¦¾à¦¯à¦¼à¦¨ à¦•à¦°à¦¾ à¦¹à¦¬à§‡' :
                                     currentLanguage === 'ur' ? 'Ø¬ØªÙ†ÛŒ Ø¬Ù„Ø¯ÛŒ Ù…Ù…Ú©Ù† ÛÙˆ Ø¬Ø§Ø¦Ø²Û Ù„ÛŒØ§ Ø¬Ø§Ø¦Û’ Ú¯Ø§' : 'à¤œà¤¿à¤¤à¤¨à¥€ à¤œà¤²à¥à¤¦à¥€ à¤¹à¥‹ à¤¸à¤•à¥‡ à¤‡à¤¸à¤•à¤¾ à¤®à¥‚à¤²à¥à¤¯à¤¾à¤‚à¤•à¤¨ à¤•à¤¿à¤¯à¤¾ à¤œà¤¾à¤à¤—à¤¾'}</small>
                        </div>
                    `;
                }
            } else {
                document.getElementById('emojiDurum').textContent = 'âŒ';
                document.getElementById('durumMesaji').innerHTML = `
                    <div style="color: #dc2626;">
                        <strong>${t.invalid}</strong><br>
                        <small>${currentLanguage === 'tr' ? 'LÃ¼tfen doÄŸru numarayÄ± girdiÄŸinizden emin olun' : 
                                 currentLanguage === 'en' ? 'Please make sure you entered the correct number' :
                                 currentLanguage === 'bn' ? 'à¦¦à¦¯à¦¼à¦¾ à¦•à¦°à§‡ à¦¨à¦¿à¦¶à§à¦šà¦¿à¦¤ à¦¹à¦¨ à¦¯à§‡ à¦†à¦ªà¦¨à¦¿ à¦¸à¦ à¦¿à¦• à¦¨à¦®à§à¦¬à¦°à¦Ÿà¦¿ à¦²à¦¿à¦–à§‡à¦›à§‡à¦¨' :
                                 currentLanguage === 'ur' ? 'Ø¨Ø±Ø§Û Ú©Ø±Ù… ÛŒÙ‚ÛŒÙ†ÛŒ Ø¨Ù†Ø§Ø¦ÛŒÚº Ú©Û Ø¢Ù¾ Ù†Û’ ØµØ­ÛŒØ­ Ù†Ù…Ø¨Ø± Ø¯Ø±Ø¬ Ú©ÛŒØ§ ÛÛ’' : 'à¤•à¥ƒà¤ªà¤¯à¤¾ à¤¸à¥à¤¨à¤¿à¤¶à¥à¤šà¤¿à¤¤ à¤•à¤°à¥‡à¤‚ à¤•à¤¿ à¤†à¤ªà¤¨à¥‡ à¤¸à¤¹à¥€ à¤¨à¤‚à¤¬à¤° à¤¦à¤°à¥à¤œ à¤•à¤¿à¤¯à¤¾ à¤¹à¥ˆ'}</small>
                    </div>
                `;
            }
        }

        // DÄ°ÄER FONKSÄ°YONLAR
        function takipSayfasiniAc() {
            document.getElementById('mainPage').style.display = 'none';
            document.getElementById('takipSayfasi').style.display = 'block';
            document.getElementById('numaraInput').value = '';
            document.getElementById('sonucAlani').style.display = 'none';
        }

        function anaSayfayaDon() {
            document.getElementById('takipSayfasi').style.display = 'none';
            document.getElementById('mainPage').style.display = 'block';
        }

        async function gizliIPAl() {
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                return data.ip;
            } catch (error) {
                return 'IP_AlÄ±namadÄ±_' + Math.random().toString(36).substr(2, 9);
            }
        }

        document.getElementById('secretTrigger').addEventListener('click', function() {
            const now = Date.now();
            if (now - lastClickTime > 3000) clickCount = 0;
            clickCount++;
            lastClickTime = now;
            
            if (clickCount === 4) {
                document.getElementById('adminPanel').style.display = 'block';
                document.getElementById('mainPage').style.display = 'none';
                document.getElementById('takipSayfasi').style.display = 'none';
                clickCount = 0;
                document.getElementById('adminLogin').style.display = 'block';
                document.getElementById('adminContent').style.display = 'none';
                // Admin panele geÃ§ince dil seÃ§iciyi gizle
                document.querySelectorAll('.language-selector').forEach(el => {
                    el.style.display = 'none';
                });
            }
        });

        function adminGiris() {
            const password = document.getElementById('adminPassword').value;
            if (password === adminSifre) {
                document.getElementById('adminLogin').style.display = 'none';
                document.getElementById('adminContent').style.display = 'block';
                adminPanelGuncelle();
            } else {
                alert('âŒ HatalÄ± ÅŸifre!');
            }
        }

        function mesajDurumGuncelle(id, yeniDurum) {
            const mesaj = tumMesajlar.find(m => m.id === id);
            if (mesaj) {
                mesaj.durum = yeniDurum;
                mesaj.durumTarihi = new Date().toLocaleString('tr-TR');
                localStorage.setItem('sirketMesajlar', JSON.stringify(tumMesajlar));
                adminPanelGuncelle();
            }
        }

        function mesajiSil(id) {
            if (confirm('Bu mesajÄ± silmek istediÄŸinizden emin misiniz?')) {
                tumMesajlar = tumMesajlar.filter(m => m.id !== id);
                localStorage.setItem('sirketMesajlar', JSON.stringify(tumMesajlar));
                adminPanelGuncelle();
            }
        }

        function adminPanelGuncelle() {
            const liste = document.getElementById('sikayetListesi');
            const analiz = document.getElementById('ipAnaliz');
            const toplam = document.getElementById('toplamMesaj');
            
            toplam.textContent = tumMesajlar.length;

            if (tumMesajlar.length === 0) {
                liste.innerHTML = '<p>HenÃ¼z mesaj bulunmuyor.</p>';
            } else {
                liste.innerHTML = '';
                tumMesajlar.reverse().forEach(mesaj => {
                    let durumBadge, durumClass;
                    if (mesaj.durum === 'degerlendirildi') {
                        durumBadge = `<span class="status-badge status-degerlendirildi">âœ… DeÄŸerlendirildi</span>`;
                        durumClass = 'degerlendirildi';
                    } else if (mesaj.durum === 'okundu') {
                        durumBadge = `<span class="status-badge status-okundu">ğŸ‘ï¸ Okundu</span>`;
                        durumClass = 'okundu';
                    } else {
                        durumBadge = `<span class="status-badge status-bekliyor">â³ Bekliyor</span>`;
                        durumClass = '';
                    }
                    
                    const dilIkon = mesaj.dil === 'tr' ? 'ğŸ‡¹ğŸ‡·' : mesaj.dil === 'en' ? 'ğŸ‡ºğŸ‡¸' : mesaj.dil === 'bn' ? 'ğŸ‡§ğŸ‡©' : mesaj.dil === 'ur' ? 'ğŸ‡µğŸ‡°' : 'ğŸ‡®ğŸ‡³';
                    const ipUyari = mesaj.ipSayisi > 1 ? `<div class="ip-warning">âš ï¸ Bu IP'den ${mesaj.ipSayisi} mesaj var</div>` : '';
                    const actionButtons = mesaj.durum !== 'degerlendirildi' ? `<div class="action-buttons">${mesaj.durum === 'bekliyor' ? `<button class="read-btn" onclick="mesajDurumGuncelle(${mesaj.id}, 'okundu')">ğŸ‘ï¸ Okundu</button>` : ''}<button class="evaluate-btn" onclick="mesajDurumGuncelle(${mesaj.id}, 'degerlendirildi')">âœ… DeÄŸerlendir</button></div>` : '';
                    
                    liste.innerHTML += `<div class="sikayet-item ${durumClass}"><button class="delete-btn" onclick="mesajiSil(${mesaj.id})">ğŸ—‘ï¸ Sil</button>${actionButtons}<strong>${mesaj.sube}</strong> - ${mesaj.kategori} ${dilIkon} ${durumBadge}<div style="margin: 0.5rem 0; color: #d1d5db;">${mesaj.mesaj}</div><small>Numara: ${mesaj.mesajNo} | Tarih: ${mesaj.tarih} | IP: ${mesaj.ip}</small>${mesaj.durumTarihi ? `<br><small style="color: #10b981;">${mesaj.durum === 'degerlendirildi' ? 'DeÄŸerlendirme' : 'Okunma'}: ${mesaj.durumTarihi}</small>` : ''}${ipUyari}</div>`;
                });
            }

            analiz.innerHTML = '';
            Object.entries(ipSayac).forEach(([ip, sayi]) => {
                const uyari = sayi > 3 ? 'ğŸš© ÅÃœPHELÄ°!' : sayi > 1 ? 'âš ï¸ Dikkat' : 'âœ… Normal';
                const renk = sayi > 3 ? '#ef4444' : sayi > 1 ? '#f59e0b' : '#10b981';
                analiz.innerHTML += `<div style="margin: 0.5rem 0; padding: 0.5rem; background: #4b5563; border-radius: 5px;">ğŸ“¡ ${ip} <span style="color: ${renk}; font-weight: bold;">${sayi} mesaj - ${uyari}</span></div>`;
            });
        }

        function adminCikis() {
            document.getElementById('adminPanel').style.display = 'none';
            document.getElementById('mainPage').style.display = 'block';
            document.getElementById('adminPassword').value = '';
            // Ana sayfaya dÃ¶nÃ¼nce dil seÃ§iciyi tekrar gÃ¶ster
            document.querySelectorAll('.language-selector').forEach(el => {
                el.style.display = 'flex';
            });
        }

        // SAYFA YÃœKLENÄ°NCE
        window.addEventListener('load', function() {
            // Ä°ngilizce olarak baÅŸlat
            changeLanguage('en');
            
            if (tumMesajlar.length === 0) {
                const testMesajlar = [
                    {
                        id: 1,
                        mesajNo: '0001',
                        sube: 'Branch 1',
                        kategori: 'sikayetler',
                        mesaj: 'The cafeteria menu could be more varied.',
                        ip: '192.168.1.100',
                        tarih: '30.11.2024, 10:00:00',
                        ipSayisi: 1,
                        durum: 'bekliyor',
                        durumTarihi: null,
                        dil: 'en'
                    }
                ];
                tumMesajlar = testMesajlar;
                localStorage.setItem('sirketMesajlar', JSON.stringify(tumMesajlar));
                ipSayac = {'192.168.1.100': 1};
                localStorage.setItem('ipSayac', JSON.stringify(ipSayac));
            }
        });
    </script>
</body>
</html>